define(["BaseEvent","Util"],function(e,t){var n=function(){this.messages=[],this.boxes={},this.boxCount=0,this.boxLifetime=1,this.queue={error:[],screen:[],console:[],alert:[]},this.loggedErrors=[];var e=this,t=window.alert;window.alert=function(n){e.alert(n)!==!1&&t(n)}};return n.prototype=new e,n.prototype.Event={ERROR:"error",CONSOLE:"console",SCREEN:"screen",ALERT:"alert"},n.prototype.init=function(){},n.prototype.error=function(e){this.queue.error.push(e);if(this.numEventListeners(this.Event.ERROR)===0)return;while(this.queue.error.length>0)this.fire({type:this.Event.ERROR,message:this.queue.error.shift()})},n.prototype.screen=function(){this.queue.screen.push(arguments);if(this.numEventListeners(this.Event.SCREEN)===0)return;while(this.queue.screen.length>0)this.fire({type:this.Event.SCREEN,args:this.queue.screen.shift()})},n.prototype.alert=function(e){this.queue.alert.push(e);if(this.numEventListeners(this.Event.ALERT)===0)return;var t=!0,n;while(this.queue.alert.length>0)n=this.fire({type:this.Event.ALERT,message:this.queue.alert.shift()}),n===!1&&(t=!1);return t},n.prototype.console=function(){this.queue.console.push(arguments);if(this.numEventListeners(this.Event.CONSOLE)===0)return;while(this.queue.console.length>0)this.fire({type:this.Event.CONSOLE,args:this.queue.console.shift()})},new n});