define(["models/Phonebook"],function(t){return{contactsAction:["$scope","ui",function(e,n){e.phonebook=t,e.filter="",e.order="name",e.orderOptions=["name","number"],e.orderBy=function(t){e.order=t},e.edit=function(t){n.openModal("phonebook","edit-contact",{id:t,callback:function(){n.hideModal(),e.$digest()}})},e.remove=function(r){var i=t.get(r);n.confirm(function(){t.remove(r),e.$digest()},"phonebook.confirm-delete","phonebook.confirm-delete-text(name)",i.name)}}],addContactAction:["$scope","navi",function(e,n){e.addContact=function(e,r){t.add(e,r),n.back()}}],editContactAction:["$scope","parameters","navi","util",function(e,n,r,i){e.contact=i.clone(t.get(n.id)),e.update=function(e){t.update(e.id,e),i.isFunction(n.callback)&&n.callback()}}]}});