define(["angular","jquery","underscore","Debug","config/main","App","ResourceManager","Keyboard","Mouse","UI","Translator","Navi","Scheduler","TestClient","Util","Directives","Filters","RootController","translations"],function(t,e,n,r,i,o,a,s,u,c,l,f,h,p,d,m,g,v,y){var $=function(){};return $.prototype.bootstrap=function(){var $,b,w=this,x={_:n,$:e,config:i,dbg:r.init(),resourceManager:a.init(),keyboard:s.init(),mouse:u.init(),ui:c.init(),translator:l.init(y,i.language),navi:f.init(),scheduler:h.init(),testClient:p.init(),util:d};o.module=t.module("app",[]),o.module.config(["$provide","$locationProvider","$controllerProvider",function(t,e,n){for(var a in x)t.value(a,x[a]);t.factory("$exceptionHandler",function(){return function(t){return r.error(t),!1}}),e.html5Mode(i.useUrlHTML5).hashPrefix(i.urlHashPrefix),o.provide=t,o.controllerProvider=n,o.registerController("RootController",v)}]);for($ in m)o.module.directive($,m[$]);for(b in g)o.module.filter(b,g[b]);o.module.run(["$rootScope","$location","$compile",function(t,e,n){w._onModuleRun(t,e,n)}]),x.translator.bind(x.translator.Event.LANGUAGE_CHANGED,function(){o.validate()}),e(document).ready(function(){w._onDomReady()}),i.debug&&(window.app=o)},$.prototype._onDomReady=function(){o.injector=t.bootstrap(e("HTML"),["app"])},$.prototype._onModuleRun=function(t,e,n){o.rootScope=t,o.location=e,o.compile=n,this._setupUrlListener(t,e),i.testClient.active&&p.open(i.testClient.host,i.testClient.port)},$.prototype._setupUrlListener=function(t,e){t.$watch(function(){return e.absUrl()},function(){var t=e.search(),n=f.getCurrent();d.isString(t.module)&&d.isString(t.action)&&(null===n||t.module!==n.module||t.action!==n.action)?f._open(t.module,t.action,d.isObject(t.parameters)?t.parameters:{}):f._open(i.index.module,i.index.action,i.index.parameters)})},new $});