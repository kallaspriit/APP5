define(["angular","jquery","underscore","Debug","config/main","App","ResourceManager","Router","Keyboard","Mouse","UI","Translator","Navi","Scheduler","Util","Directives","Filters","RootController","translations"],function(t,e,n,r,i,o,a,s,u,c,l,f,h,p,d,m,g,v,y){var $=function(){};return $.prototype.bootstrap=function(){var $,b,w=this,x={_:n,$:e,config:i,dbg:r.init(),resourceManager:a.init(),router:s.init(i.navigation.mode),keyboard:u.init(),mouse:c.init(),ui:l.init(),translator:f.init(y,i.language),navi:h.init(),scheduler:p.init(),util:d};o.module=t.module("app",[]),o.module.config(["$provide","$locationProvider","$controllerProvider",function(t,e,n){o.provide=t,o.controllerProvider=n;for(var a in x)t.value(a,x[a]);t.factory("$exceptionHandler",function(){return function(t){return r.error(t),!1}}),e.html5Mode(i.navigation.html5Mode).hashPrefix(i.navigation.hashPrefix),o.registerController("RootController",v)}]);for($ in m)o.module.directive($,m[$]);for(b in g)o.module.filter(b,g[b]);o.module.run(["$rootScope","$location","$compile",function(t,e,n){w._onModuleRun(t,e,n)}]),x.translator.bind(x.translator.Event.LANGUAGE_CHANGED,function(){o.validate()}),e(document).ready(function(){w._onDomReady()}),i.debug&&(window.app=o)},$.prototype._onDomReady=function(){o.injector=t.bootstrap(e("HTML"),["app"])},$.prototype._onModuleRun=function(t,e,n){o.rootScope=t,o.location=e,o.compile=n,this._setupRouter(t,e)},$.prototype._setupRouter=function(t,e){t.$watch(function(){return e.absUrl()},function(){var t={url:e.absUrl(),hash:e.hash(),path:e.path(),query:e.url(),args:e.search(),host:e.host(),port:e.port(),protocol:e.protocol()};h._onUrlChanged(t)})},new $});