define([],function(){var e=function(){this._listeners={}};return e.prototype.bind=function(e,t){"string"==typeof e&&(e=[e]);var n,r=this;for(n=0;e.length>n;n++){this._listeners[e[n]]===void 0&&(this._listeners[e[n]]=[]);for(var i=0;this._listeners[e[n]].length>i;i++)if(this._listeners[e[n]][i]===t)return t;this._listeners[e[n]].push(t)}return this._onBind(e,t),{type:e,listener:t,unbind:function(){r.unbind(e,t)}}},e.prototype._onBind=function(){},e.prototype.unbind=function(e,t){var n;if(e===void 0)return this._listeners={},!0;if("object"==typeof e&&"number"==typeof e.length){var r=!0;for(n=0;e.length>n;n++)this.unbind(e[n],t)||(r=!1);return r}if(t===void 0)return this._listeners[e]=[],!0;if(this._listeners[e]===void 0)return!1;for(n=0;this._listeners[e].length>n;n++)if(this._listeners[e][n]===t)return this._listeners[e].splice(n,1),!0;return!1},e.prototype.fire=function(e){if("string"==typeof e&&(e={type:e}),e.target===void 0&&(e.target=this),e.type===void 0)throw'Event "type" attribute is missing';var t=!0;if("object"==typeof this._listeners[e.type])for(var n=0;this._listeners[e.type].length>n;n++)this._listeners[e.type][n].call(this,e)===!1&&(t=!1);return t},e.prototype.numListeners=function(e){return this._listeners[e]===void 0?0:this._listeners[e].length},e.prototype.clearListeners=function(e){e===void 0?this._listeners={}:this._listeners[e]=[]},e.prototype.getListeners=function(e){return"string"==typeof e?this._listeners[e]!==void 0?this._listeners[e]:null:this._listeners},e});