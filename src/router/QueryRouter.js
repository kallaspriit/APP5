define(["router/RouterBase","config/main","Navi","App","Util"],function(e,t,n,r,i){var o=function(){e.call(this)};return o.prototype=Object.create(e.prototype),o.prototype.init=function(){var e=this;return n.on(n.Event.URL_CHANGED,function(t){e._onUrlChanged(t.parameters)}),this},o.prototype.navigate=function(e,t,n){var o={module:e,action:t};i.isObject(n)&&!i.isEmpty(n)&&(o.parameters=n),r.location.search(o),r.validate()},o.prototype._onUrlChanged=function(e){var r=n.getCurrent();i.isString(e.args.module)&&i.isString(e.args.action)&&(null===r||e.args.module!==r.module||e.args.action!==r.action)?n._open(e.args.module,e.args.action,i.isObject(e.args.parameters)?e.args.parameters:{}):n._open(t.index.module,t.index.action,t.index.parameters)},new o});