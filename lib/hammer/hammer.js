/*
 * Hammer.JS
 * version 0.6.4
 * author: Eight Media
 * https://github.com/EightMedia/hammer.js
 * Licensed under the MIT license.
 */

function Hammer(t,e,n){function r(t){return t.touches?t.touches.length:1}function i(t){var e=document,n=e.body;return[{x:t.pageX||t.clientX+(e&&e.scrollLeft||n&&n.scrollLeft||0)-(e&&e.clientLeft||n&&e.clientLeft||0),y:t.pageY||t.clientY+(e&&e.scrollTop||n&&n.scrollTop||0)-(e&&e.clientTop||n&&e.clientTop||0)}]}function o(t){for(var n,r=[],i=0,o=e.two_touch_max?Math.min(2,t.touches.length):t.touches.length;o>i;i++)n=t.touches[i],r.push({x:n.pageX,y:n.pageY});return r}function a(t){var r=i;return t=t||window.event,F?r=o:e.allow_touch_and_mouse&&t.touches!==n&&t.touches.length>0&&(r=o),r(t)}function s(t,e){return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI}function u(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function c(t,e){if(2==t.length&&2==e.length){var n=u(t[0],t[1]),r=u(e[0],e[1]);return r/n}return 0}function l(t,e){if(2==t.length&&2==e.length){var n=s(t[1],t[0]),r=s(e[1],e[0]);return r-n}return 0}function f(t,e){e.touches=a(e.originalEvent),e.type=t,y(w["on"+t])&&w["on"+t].call(w,e)}function h(t){t=t||window.event,t.preventDefault?(t.preventDefault(),t.stopPropagation()):(t.returnValue=!1,t.cancelBubble=!0)}function p(){A={},N=!1,M=0,_=0,S=0,O=null}function d(n){function i(){A.start=a(n),j=(new Date).getTime(),M=r(n),N=!0,C=n;var e=t.getBoundingClientRect(),i=t.clientTop||document.body.clientTop||0,o=t.clientLeft||document.body.clientLeft||0,s=window.pageYOffset||t.scrollTop||document.body.scrollTop,u=window.pageXOffset||t.scrollLeft||document.body.scrollLeft;H={top:e.top+s-i,left:e.left+u-o},q=!0,I.hold(n)}var o;switch(n.type){case"mousedown":case"touchstart":o=r(n),U=1===o,2===o&&"drag"===O&&f("dragend",{originalEvent:n,direction:k,distance:_,angle:S}),i(),e.prevent_default&&h(n);break;case"mousemove":case"touchmove":if(o=r(n),!q&&1===o)return!1;q||2!==o||(U=!1,p(),i()),E=n,A.move=a(n),I.transform(n)||I.drag(n);break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":var s=!0;if(q=!1,T=n,I.swipe(n),"drag"==O)f("dragend",{originalEvent:n,direction:k,distance:_,angle:S});else if("transform"==O){var u=A.center.x-A.startCenter.x,d=A.center.y-A.startCenter.y;f("transformend",{originalEvent:n,position:A.center,scale:c(A.start,A.move),rotation:l(A.start,A.move),distance:_,distanceX:u,distanceY:d}),1===r(n)&&(p(),i(),s=!1)}else U&&"mouseout"!=n.type&&I.tap(C);null!==O&&(D=O,f("release",{originalEvent:n,gesture:O,position:A.move||A.start})),s&&p()}}function m(e){v(t,e.relatedTarget)||d(e)}function v(t,e){if(!e&&window.event&&window.event.toElement&&(e=window.event.toElement),t===e)return!0;if(e)for(var n=e.parentNode;null!==n;){if(n===t)return!0;n=n.parentNode}return!1}function g(t,e){var n={};if(!e)return t;for(var r in t)n[r]=r in e?e[r]:t[r];return n}function y(t){return"[object Function]"==Object.prototype.toString.call(t)}function $(t,e,n){e=e.split(" ");for(var r=0,i=e.length;i>r;r++)t.addEventListener?t.addEventListener(e[r],n,!1):document.attachEvent&&t.attachEvent("on"+e[r],n)}function b(t,e,n){e=e.split(" ");for(var r=0,i=e.length;i>r;r++)t.removeEventListener?t.removeEventListener(e[r],n,!1):document.detachEvent&&t.detachEvent("on"+e[r],n)}var w=this,x=g({prevent_default:!1,css_hacks:!0,swipe:!0,swipe_time:500,swipe_min_distance:20,drag:!0,drag_vertical:!0,drag_horizontal:!0,drag_min_distance:20,transform:!0,scale_treshold:.1,rotation_treshold:15,tap:!0,tap_double:!0,tap_max_interval:300,tap_max_distance:10,tap_double_distance:20,hold:!0,hold_timeout:500,allow_touch_and_mouse:!1},Hammer.defaults||{});e=g(x,e),function(){if(!e.css_hacks)return!1;for(var n=["webkit","moz","ms","o",""],r={userSelect:"none",touchCallout:"none",touchAction:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"},i="",o=0;n.length>o;o++)for(var a in r)i=a,n[o]&&(i=n[o]+i.substring(0,1).toUpperCase()+i.substring(1)),t.style[i]=r[a]}();var C,E,T,_=0,S=0,k=0,A={},M=0,N=!1,O=null,D=null,j=null,P={x:0,y:0},L=null,R=null,H={},q=!1,F="ontouchstart"in window,U=!1;this.option=function(t,r){return r!==n&&(e[t]=r),e[t]},this.getDirectionFromAngle=function(t){var e,n,r={down:t>=45&&135>t,left:t>=135||-135>=t,up:-45>t&&t>-135,right:t>=-45&&45>=t};for(n in r)if(r[n]){e=n;break}return e},this.destroy=function(){(F||e.allow_touch_and_mouse)&&b(t,"touchstart touchmove touchend touchcancel",d),(!F||e.allow_touch_and_mouse)&&(b(t,"mouseup mousedown mousemove",d),b(t,"mouseout",m))};var I={hold:function(t){e.hold&&(O="hold",clearTimeout(R),R=setTimeout(function(){"hold"==O&&f("hold",{originalEvent:t,position:A.start})},e.hold_timeout))},swipe:function(t){if(A.move&&"transform"!==O){var n=A.move[0].x-A.start[0].x,r=A.move[0].y-A.start[0].y;_=Math.sqrt(n*n+r*r);var i=(new Date).getTime(),o=i-j;if(e.swipe&&e.swipe_time>=o&&_>=e.swipe_min_distance){S=s(A.start[0],A.move[0]),k=w.getDirectionFromAngle(S),O="swipe";var a={x:A.move[0].x-H.left,y:A.move[0].y-H.top},u={originalEvent:t,position:a,direction:k,distance:_,distanceX:n,distanceY:r,angle:S};f("swipe",u)}}},drag:function(t){var n=A.move[0].x-A.start[0].x,r=A.move[0].y-A.start[0].y;if(_=Math.sqrt(n*n+r*r),e.drag&&_>e.drag_min_distance||"drag"==O){S=s(A.start[0],A.move[0]),k=w.getDirectionFromAngle(S);var i="up"==k||"down"==k;if((i&&!e.drag_vertical||!i&&!e.drag_horizontal)&&_>e.drag_min_distance)return;O="drag";var o={x:A.move[0].x-H.left,y:A.move[0].y-H.top},a={originalEvent:t,position:o,direction:k,distance:_,distanceX:n,distanceY:r,angle:S};N&&(f("dragstart",a),N=!1),f("drag",a),h(t)}},transform:function(t){if(e.transform){var n=r(t);if(2!==n)return!1;var i=l(A.start,A.move),o=c(A.start,A.move);if("transform"===O||Math.abs(1-o)>e.scale_treshold||Math.abs(i)>e.rotation_treshold){O="transform",A.center={x:(A.move[0].x+A.move[1].x)/2-H.left,y:(A.move[0].y+A.move[1].y)/2-H.top},N&&(A.startCenter=A.center);var a=A.center.x-A.startCenter.x,s=A.center.y-A.startCenter.y;_=Math.sqrt(a*a+s*s);var u={originalEvent:t,position:A.center,scale:o,rotation:i,distance:_,distanceX:a,distanceY:s};return N&&(f("transformstart",u),N=!1),f("transform",u),h(t),!0}}return!1},tap:function(t){var n=(new Date).getTime(),r=n-j;if(!e.hold||e.hold&&e.hold_timeout>r){var i=function(){if(P&&e.tap_double&&"tap"==D&&A.start&&e.tap_max_interval>j-L){var t=Math.abs(P[0].x-A.start[0].x),n=Math.abs(P[0].y-A.start[0].y);return P&&A.start&&e.tap_double_distance>Math.max(t,n)}return!1}();if(i)O="double_tap",L=null,f("doubletap",{originalEvent:t,position:A.start}),h(t);else{var o=A.move?Math.abs(A.move[0].x-A.start[0].x):0,a=A.move?Math.abs(A.move[0].y-A.start[0].y):0;_=Math.max(o,a),e.tap_max_distance>_&&(O="tap",L=n,P=A.start,e.tap&&(f("tap",{originalEvent:t,position:A.start}),h(t)))}}}};(F||e.allow_touch_and_mouse)&&$(t,"touchstart touchmove touchend touchcancel",d),(!F||e.allow_touch_and_mouse)&&($(t,"mouseup mousedown mousemove",d),$(t,"mouseout",m))}